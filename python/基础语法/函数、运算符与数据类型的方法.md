# 函数、运算符与数据类型的方法

## Python 函数

### 什么是函数？

> 函数是一段可以被另外一端程序或代码引用的程序或代码。也叫子程序，方法。

### 函数的特点？

* 可重复使用
* 可互相调用 (递归)

### 函数的目的？

* 为了代码块的复用

### 定义函数？

```python
def foo(arg):
    return "Hello " + str(arg)
```

### 函数组成？

* 参数列表

  * 必须参数

    > 当前参数必须按顺序传入

  * 关键字参数

    > 根据关键字传参可以无视顺序

    ```python
    def foo(arg):
        return "Hello " + str(arg)
    ```

    * 默认参数

      ```python
      def foo(arg='hello')
      ```

  * 不定长参数

    在**装饰器**中会大量应用

    > 可以接收任意长度的参数

    * `*`

      > 代表了省略，省略了参数 `tuple` 元组

    * `**`

      > 省略了关键字参数 `dick` 字典

* 函数体

* 返回值

  默认返回 **None**

  ```python
  return None
  ```

## Python 运算符

### 算术运算

* `+`
* `-`
* `*` 乘法
* `/` 除法
* `//` 整除
* `%` 取余
* `**` 幂
* 开放(没有直接的运算符) **使用幂代替**
* `abs()` 取绝对值

### 赋值运算

通过 `=` 赋值

```python
a = 1
a = "string"
a = [1, 2, 3]
```

### 比较运算

比较的是两个对象的**字面值**

* `>`
* `<`
* `>=`
* `<=`
* `==`
* `!=`

### 标志号比较运算

比较的是两个变量的**内存地址**

* 通过 `is` 或者 `is not` 比较

* 赋值类型为 `str`, `int` 的时候要考虑 Python 的常量池

  ```python
  a = "hello"
  b = "hello"
  
  a is b
  >>> True
  
  c = "你好"
  d = "你好"
  
  c is d
  >>> False
  ```

### 成员检测运算

判断**元素**是否在当前序列中

* `in`

  ```python
  a = [1, 2, 3]
  
  1 in a
  >>> True
  
  b = [1, 2]
  b in a
  >>> False
  ```

* 不能判断列表的子集是否在列表中

* `not in`

### 布尔运算

判断当前语句运行结果是 `True` 还是 `False`

* `and`

* `or`

  短路逻辑：

  > 表达式A or 表达式B
  >
  > 当表达式A为 True 时，表达式B不会执行

* `not` : 逻辑取反

  ```python
  not print("statement B") or print("statement A")
  >>> statement B
  >>> True
  ```

### 位运算

二进制运算

* `~`
* `^`
* `>>`
* `<<`

### Python 运算符优先级

| 运算符                                                       | 优先级 |
| ------------------------------------------------------------ | ------ |
| or---布尔运算或                                              | 1      |
| and---布尔运算与                                             | 2      |
| not---布尔运算逻辑取反                                       | 3      |
| in、not in、is、is not、<、!= ... ---比较运算、成员检测、标志号检测 | 4      |
| +、- ---加法、减法                                           | 5      |
| *、/、//、%---乘法、除法、整除、取余                         | 6      |
| +x、-x---正负数                                              | 7      |
| **                                                           | 8      |

#### 自定义优先级

* 通过 `()` 包裹

  ```python
  (not b and c) or (d and e)
  ```

## 字符串和字符序列及编码解码问题

### 字符串(字符序列)和字符序列

* 字符

  > Unicode 字符

* 字节

  > 字符的二进制表示形式

* 码位

  > 计算机显示的实际是码位
  >
  > UNICODE标准中以4-6个十六进制数字表示

  ```python
  '你好'.encode("unicode_escape").decode()
  >>> '\\u4f60\\u597d'
  
  '\u4f60\u597d'
  >>> '你好'
  
  len('\u4f60\u597d')
  >>> 2
  ```

* 编码

  * 字节序列(bytes)-> 字符序列(string)-> 解码(decode)

    ```python
    b = "你好".encode("utf-8")
    b
    >>> b'\xe4\xbd\xa0\xe5\xa5\xbd'
    b.decode("utf-8")
    >>> '你好'
    ```

    

  * 字符序列(string)-> 字节序列(bytes)-> 编码(encode)

    ```python
    "你好".encode("utf-8")
    >>> b'\xe4\xbd\xa0\xe5\xa5\xbd'
    ```

    