# 13. 链式查询方法 · 上

## 一. where

1. 表达式查询，就是 `where()` 方法的基础查询方式：

   ```php
   Db::name('user')->where('id', '>', 70)->select();
   ```

2. 关联数据查询，通过键值对来数组键值对匹配的查询方式：

   ```php
   $user = Db::name('user')->where([
       'gender' => '男',
       'price' => 100
   ])->select();
   ```

3. 索引数组查询，通过数组里的数组拼装方式来查询：

   ```php
   $user = Db::name('user')->where([
       ['gender', '=', '男'],
       ['price', '=', '100']
   ])->select();
   ```

4. 将复杂数组组转后，通过变量传递，将增加可读性：

   ```php
   $map[] = ['gender', '=', '男'];
   $map[] = ['price', 'in', [60, 70, 80]];
   ```

5. 字符串形式传递，简单粗暴的查询方式，`whereRaw()` 支持复杂字符串格式：

   ```php
   Db::name('user')->whereRaw('gender="男" AND price IN (60, 80, 120)')->select();
   ```

6. 如果 `SQL` 查询采用了预处理模式，比如 `id = :id`，也能够支持：

   ```php
   Db::name('user')->whereRaw('id = :id', ['id' => 19])->select();
   ```

## 二. field

1. 使用 `field()` 方法，可以指定要查询的字段：

   ```php
   Db::name('user')->field('id, username, email')->select();
   Db::name('user')->field(['id'. 'username', 'email'])->select();
   ```

2. 使用 `field()` 方法，给指定的字段设置别名：

   ```php
   Db::name('user')->field('id, username as name')->select();
   Db::name('user')->field(['id', 'username' => 'name'])->select();
   ```

3. 在 `fieldRaw()` 方法里，可以直接给字段设置 `MySQL` 函数：

   ```php
   Db::name('user')->fieldRaw('id, SUM(price)')->select();
   ```

4. 使用 `field(true)` 的布尔参数，可以显式地查询获取所有字段，而不是 `*` ：

   ```php
   Db::name('user')->field(true)->select();
   ```

## 三. alias